<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapitre 8 Tokenisation | NLP avec r et en français - un Manuel synthétique</title>
  <meta name="description" content="Un manuel pratique de NLP en français" />
  <meta name="generator" content="bookdown 0.22.3 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapitre 8 Tokenisation | NLP avec r et en français - un Manuel synthétique" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Un manuel pratique de NLP en français" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapitre 8 Tokenisation | NLP avec r et en français - un Manuel synthétique" />
  
  <meta name="twitter:description" content="Un manuel pratique de NLP en français" />
  

<meta name="author" content="Sophie Balech et Christophe Benavent et al" />


<meta name="date" content="2021-09-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="le-cas-de-sources-multiples.html"/>
<link rel="next" href="annot.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<link href="libs/tabwid-1.0.0/tabwid.css" rel="stylesheet" />


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">NLP en r et en français</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Préface</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#cours-et-séminaires"><i class="fa fa-check"></i><b>1.1</b> Cours et séminaires</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#la-structure-du-livre"><i class="fa fa-check"></i><b>1.2</b> La structure du livre</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#les-jeux-de-données"><i class="fa fa-check"></i><b>1.3</b> Les jeux de données</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#les-ressources"><i class="fa fa-check"></i><b>1.4</b> Les ressources</a><ul>
<li class="chapter" data-level="1.4.1" data-path="index.html"><a href="index.html#les-packages"><i class="fa fa-check"></i><b>1.4.1</b> Les packages</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#disponibilité"><i class="fa fa-check"></i><b>1.5</b> Disponibilité</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#conventions"><i class="fa fa-check"></i><b>1.6</b> conventions</a></li>
<li class="chapter" data-level="1.7" data-path="index.html"><a href="index.html#a-faire"><i class="fa fa-check"></i><b>1.7</b> A faire</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a><ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#une-réflexion-ancienne-et-un-nouveau-champ-méthodologique"><i class="fa fa-check"></i><b>2.1</b> Une réflexion ancienne et un nouveau champ méthodologique</a><ul>
<li class="chapter" data-level="2.1.1" data-path="intro.html"><a href="intro.html#langue-langage-et-texte-parole"><i class="fa fa-check"></i><b>2.1.1</b> Langue, langage et texte parole</a></li>
<li class="chapter" data-level="2.1.2" data-path="intro.html"><a href="intro.html#syntaxe-et-grammaire-générative"><i class="fa fa-check"></i><b>2.1.2</b> Syntaxe et grammaire générative</a></li>
<li class="chapter" data-level="2.1.3" data-path="intro.html"><a href="intro.html#sémantique-la-conception-distributionnelle"><i class="fa fa-check"></i><b>2.1.3</b> Sémantique : La conception distributionnelle</a></li>
<li class="chapter" data-level="2.1.4" data-path="intro.html"><a href="intro.html#pragmatique-les-fonctions-et-acte-du-langage"><i class="fa fa-check"></i><b>2.1.4</b> Pragmatique les fonctions et acte du langage</a></li>
<li class="chapter" data-level="2.1.5" data-path="intro.html"><a href="intro.html#la-linguistique-computationnelle"><i class="fa fa-check"></i><b>2.1.5</b> la linguistique computationnelle</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#les-facteurs-de-développement-de-lusage-en-science-sociale"><i class="fa fa-check"></i><b>2.2</b> Les facteurs de développement de l’usage en science sociale</a><ul>
<li class="chapter" data-level="2.2.1" data-path="intro.html"><a href="intro.html#une-lingua-franca"><i class="fa fa-check"></i><b>2.2.1</b> Une lingua franca</a></li>
<li class="chapter" data-level="2.2.2" data-path="intro.html"><a href="intro.html#la-multiplication-des-sources-de-données."><i class="fa fa-check"></i><b>2.2.2</b> La multiplication des sources de données.</a></li>
<li class="chapter" data-level="2.2.3" data-path="intro.html"><a href="intro.html#une-communauté"><i class="fa fa-check"></i><b>2.2.3</b> Une communauté</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#de-nouvelles-méthodologies-pour-les-sciences-sociales"><i class="fa fa-check"></i><b>2.3</b> De nouvelles méthodologies pour les sciences sociales</a><ul>
<li class="chapter" data-level="2.3.1" data-path="intro.html"><a href="intro.html#nouveaux-terrains"><i class="fa fa-check"></i><b>2.3.1</b> Nouveaux terrains :</a></li>
<li class="chapter" data-level="2.3.2" data-path="intro.html"><a href="intro.html#nouvelles-méthodes"><i class="fa fa-check"></i><b>2.3.2</b> Nouvelles méthodes :</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="intro.html"><a href="intro.html#un-nouvel-objet"><i class="fa fa-check"></i><b>2.4</b> Un nouvel objet :</a><ul>
<li class="chapter" data-level="2.4.1" data-path="intro.html"><a href="intro.html#sociologie-et-histoire"><i class="fa fa-check"></i><b>2.4.1</b> Sociologie et histoire</a></li>
<li class="chapter" data-level="2.4.2" data-path="intro.html"><a href="intro.html#psychologie"><i class="fa fa-check"></i><b>2.4.2</b> Psychologie</a></li>
<li class="chapter" data-level="2.4.3" data-path="intro.html"><a href="intro.html#management"><i class="fa fa-check"></i><b>2.4.3</b> Management</a></li>
<li class="chapter" data-level="2.4.4" data-path="intro.html"><a href="intro.html#economie"><i class="fa fa-check"></i><b>2.4.4</b> Economie</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="intro.html"><a href="intro.html#des-comptable-à-lindustrie-de-la-langue"><i class="fa fa-check"></i><b>2.5</b> Des comptable à l’industrie de la langue</a></li>
<li class="chapter" data-level="2.6" data-path="intro.html"><a href="intro.html#conclusion"><i class="fa fa-check"></i><b>2.6</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="constitution-du-corpus.html"><a href="constitution-du-corpus.html"><i class="fa fa-check"></i><b>3</b> Constitution du corpus</a><ul>
<li class="chapter" data-level="3.1" data-path="constitution-du-corpus.html"><a href="constitution-du-corpus.html#lexploitation-de-base-de-données-textuelles"><i class="fa fa-check"></i><b>3.1</b> L’exploitation de base de données textuelles</a></li>
<li class="chapter" data-level="3.2" data-path="constitution-du-corpus.html"><a href="constitution-du-corpus.html#jouer-avec-les-bases-bibliographiques"><i class="fa fa-check"></i><b>3.2</b> Jouer avec les bases bibliographiques</a></li>
<li class="chapter" data-level="3.3" data-path="constitution-du-corpus.html"><a href="constitution-du-corpus.html#scrapping"><i class="fa fa-check"></i><b>3.3</b> Scrapping</a><ul>
<li class="chapter" data-level="3.3.1" data-path="constitution-du-corpus.html"><a href="constitution-du-corpus.html#rvest-avec-r"><i class="fa fa-check"></i><b>3.3.1</b> rvest avec r</a></li>
<li class="chapter" data-level="3.3.2" data-path="constitution-du-corpus.html"><a href="constitution-du-corpus.html#des-problèmes-pratiques-juridiques-et-éthiques"><i class="fa fa-check"></i><b>3.3.2</b> Des problèmes pratiques, juridiques et éthiques</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="constitution-du-corpus.html"><a href="constitution-du-corpus.html#les-api"><i class="fa fa-check"></i><b>3.4</b> les API</a><ul>
<li class="chapter" data-level="3.4.1" data-path="constitution-du-corpus.html"><a href="constitution-du-corpus.html#un-tour-dhorizon-des-api"><i class="fa fa-check"></i><b>3.4.1</b> Un tour d’horizon des API</a></li>
<li class="chapter" data-level="3.4.2" data-path="constitution-du-corpus.html"><a href="constitution-du-corpus.html#un-point-de-vue-plus-technique"><i class="fa fa-check"></i><b>3.4.2</b> un point de vue plus technique</a></li>
<li class="chapter" data-level="3.4.3" data-path="constitution-du-corpus.html"><a href="constitution-du-corpus.html#un-exemple-avec-rtweet"><i class="fa fa-check"></i><b>3.4.3</b> Un exemple avec Rtweet</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="constitution-du-corpus.html"><a href="constitution-du-corpus.html#la-gestion-des-documents"><i class="fa fa-check"></i><b>3.5</b> La gestion des documents</a><ul>
<li class="chapter" data-level="3.5.1" data-path="constitution-du-corpus.html"><a href="constitution-du-corpus.html#extraire-du-texte-des-pdf"><i class="fa fa-check"></i><b>3.5.1</b> Extraire du texte des pdf</a></li>
<li class="chapter" data-level="3.5.2" data-path="constitution-du-corpus.html"><a href="constitution-du-corpus.html#la-numérisation-et-locr"><i class="fa fa-check"></i><b>3.5.2</b> la numérisation et l’OCR</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="constitution-du-corpus.html"><a href="constitution-du-corpus.html#les-contenus-vocaux"><i class="fa fa-check"></i><b>3.6</b> Les contenus vocaux</a></li>
<li class="chapter" data-level="3.7" data-path="constitution-du-corpus.html"><a href="constitution-du-corpus.html#echantillonner-le-texte"><i class="fa fa-check"></i><b>3.7</b> Echantillonner le texte</a></li>
<li class="chapter" data-level="3.8" data-path="constitution-du-corpus.html"><a href="constitution-du-corpus.html#conclusion-1"><i class="fa fa-check"></i><b>3.8</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="visualiser-et-réduire-le-corpus.html"><a href="visualiser-et-réduire-le-corpus.html"><i class="fa fa-check"></i><b>4</b> Visualiser et réduire le corpus</a><ul>
<li class="chapter" data-level="4.1" data-path="visualiser-et-réduire-le-corpus.html"><a href="visualiser-et-réduire-le-corpus.html#explorer-le-corpus"><i class="fa fa-check"></i><b>4.1</b> Explorer le corpus</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="préparation-des-données.html"><a href="préparation-des-données.html"><i class="fa fa-check"></i><b>5</b> Préparation des données</a><ul>
<li class="chapter" data-level="5.1" data-path="préparation-des-données.html"><a href="préparation-des-données.html#manipuler-des-chaines-de-caractères"><i class="fa fa-check"></i><b>5.1</b> Manipuler des chaines de caractères</a><ul>
<li class="chapter" data-level="5.1.1" data-path="préparation-des-données.html"><a href="préparation-des-données.html#les-opérations-sur-les-chaînes-de-caractères"><i class="fa fa-check"></i><b>5.1.1</b> Les opérations sur les chaînes de caractères</a></li>
<li class="chapter" data-level="5.1.2" data-path="préparation-des-données.html"><a href="préparation-des-données.html#la-technique-des-expressions-régulières-regex"><i class="fa fa-check"></i><b>5.1.2</b> La technique des expressions régulières (regex)</a></li>
<li class="chapter" data-level="5.1.3" data-path="préparation-des-données.html"><a href="préparation-des-données.html#un-fondement-profond-et-ancien"><i class="fa fa-check"></i><b>5.1.3</b> Un fondement profond et ancien</a></li>
<li class="chapter" data-level="5.1.4" data-path="préparation-des-données.html"><a href="préparation-des-données.html#des-applications-très-pratiques"><i class="fa fa-check"></i><b>5.1.4</b> Des applications très pratiques</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="préparation-des-données.html"><a href="préparation-des-données.html#nettoyer-le-texte"><i class="fa fa-check"></i><b>5.2</b> Nettoyer le texte</a></li>
<li class="chapter" data-level="5.3" data-path="préparation-des-données.html"><a href="préparation-des-données.html#corriger-le-texte"><i class="fa fa-check"></i><b>5.3</b> Corriger le texte</a><ul>
<li class="chapter" data-level="5.3.1" data-path="préparation-des-données.html"><a href="préparation-des-données.html#la-correction-orthographique-automatique"><i class="fa fa-check"></i><b>5.3.1</b> La correction orthographique automatique</a></li>
<li class="chapter" data-level="5.3.2" data-path="préparation-des-données.html"><a href="préparation-des-données.html#analyse-ciblée-par-les-regex"><i class="fa fa-check"></i><b>5.3.2</b> Analyse ciblée par les regex</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="préparation-des-données.html"><a href="préparation-des-données.html#identifier-les-sources"><i class="fa fa-check"></i><b>5.4</b> Identifier les sources</a><ul>
<li class="chapter" data-level="5.4.1" data-path="préparation-des-données.html"><a href="préparation-des-données.html#identifier-la-langue"><i class="fa fa-check"></i><b>5.4.1</b> Identifier la langue</a></li>
<li class="chapter" data-level="5.4.2" data-path="préparation-des-données.html"><a href="préparation-des-données.html#identifier-les-plagiats-et-réutilisations"><i class="fa fa-check"></i><b>5.4.2</b> Identifier les plagiats et réutilisations</a></li>
<li class="chapter" data-level="5.4.3" data-path="préparation-des-données.html"><a href="préparation-des-données.html#identifier-les-fakes"><i class="fa fa-check"></i><b>5.4.3</b> Identifier les fakes</a></li>
<li class="chapter" data-level="5.4.4" data-path="préparation-des-données.html"><a href="préparation-des-données.html#identifier-les-trolls"><i class="fa fa-check"></i><b>5.4.4</b> Identifier les trolls</a></li>
<li class="chapter" data-level="5.4.5" data-path="préparation-des-données.html"><a href="préparation-des-données.html#identifier-les-bots"><i class="fa fa-check"></i><b>5.4.5</b> Identifier les bots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="une-première-analyse-quantitative.html"><a href="une-première-analyse-quantitative.html"><i class="fa fa-check"></i><b>6</b> Une première analyse quantitative</a><ul>
<li class="chapter" data-level="6.1" data-path="une-première-analyse-quantitative.html"><a href="une-première-analyse-quantitative.html#comptons-les-mots"><i class="fa fa-check"></i><b>6.1</b> Comptons les mots</a></li>
<li class="chapter" data-level="6.2" data-path="une-première-analyse-quantitative.html"><a href="une-première-analyse-quantitative.html#la-production-dans-le-temps"><i class="fa fa-check"></i><b>6.2</b> la production dans le temps</a></li>
<li class="chapter" data-level="6.3" data-path="une-première-analyse-quantitative.html"><a href="une-première-analyse-quantitative.html#lisibilité-et-complexité-lexicale"><i class="fa fa-check"></i><b>6.3</b> Lisibilité et complexité lexicale</a><ul>
<li class="chapter" data-level="6.3.1" data-path="une-première-analyse-quantitative.html"><a href="une-première-analyse-quantitative.html#les-indices-de-lisibilité"><i class="fa fa-check"></i><b>6.3.1</b> Les indices de lisibilité</a></li>
<li class="chapter" data-level="6.3.2" data-path="une-première-analyse-quantitative.html"><a href="une-première-analyse-quantitative.html#les-indices-de-complexité-lexicale"><i class="fa fa-check"></i><b>6.3.2</b> Les indices de complexité lexicale</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="une-première-analyse-quantitative.html"><a href="une-première-analyse-quantitative.html#comptons-les-mots-1"><i class="fa fa-check"></i><b>6.4</b> Comptons les mots</a><ul>
<li class="chapter" data-level="6.4.1" data-path="une-première-analyse-quantitative.html"><a href="une-première-analyse-quantitative.html#les-nuages-de-mots"><i class="fa fa-check"></i><b>6.4.1</b> Les nuages de mots</a></li>
<li class="chapter" data-level="6.4.2" data-path="une-première-analyse-quantitative.html"><a href="une-première-analyse-quantitative.html#des-lollyplots"><i class="fa fa-check"></i><b>6.4.2</b> Des lollyplots</a></li>
<li class="chapter" data-level="6.4.3" data-path="une-première-analyse-quantitative.html"><a href="une-première-analyse-quantitative.html#la-mesure-de-la-concentration-des-termes"><i class="fa fa-check"></i><b>6.4.3</b> La mesure de la concentration des termes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="le-cas-de-sources-multiples.html"><a href="le-cas-de-sources-multiples.html"><i class="fa fa-check"></i><b>7</b> Le cas de sources multiples</a><ul>
<li class="chapter" data-level="7.0.1" data-path="le-cas-de-sources-multiples.html"><a href="le-cas-de-sources-multiples.html#mesure-de-la-concentration"><i class="fa fa-check"></i><b>7.0.1</b> Mesure de la concentration</a></li>
<li class="chapter" data-level="7.0.2" data-path="le-cas-de-sources-multiples.html"><a href="le-cas-de-sources-multiples.html#ou-par-segmentation"><i class="fa fa-check"></i><b>7.0.2</b> ou par segmentation</a></li>
<li class="chapter" data-level="7.1" data-path="le-cas-de-sources-multiples.html"><a href="le-cas-de-sources-multiples.html#conclusion-2"><i class="fa fa-check"></i><b>7.1</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="token.html"><a href="token.html"><i class="fa fa-check"></i><b>8</b> Tokenisation</a><ul>
<li class="chapter" data-level="8.1" data-path="token.html"><a href="token.html#objectifs-du-chapitre"><i class="fa fa-check"></i><b>8.1</b> <em>Objectifs du chapitre</em></a></li>
<li class="chapter" data-level="8.2" data-path="token.html"><a href="token.html#les-outils"><i class="fa fa-check"></i><b>8.2</b> Les outils</a></li>
<li class="chapter" data-level="8.3" data-path="token.html"><a href="token.html#introduction"><i class="fa fa-check"></i><b>8.3</b> Introduction</a></li>
<li class="chapter" data-level="8.4" data-path="token.html"><a href="token.html#tokeniser-un-corpus"><i class="fa fa-check"></i><b>8.4</b> Tokeniser un corpus</a><ul>
<li class="chapter" data-level="8.4.1" data-path="token.html"><a href="token.html#les-lettres"><i class="fa fa-check"></i><b>8.4.1</b> Les lettres</a></li>
<li class="chapter" data-level="8.4.2" data-path="token.html"><a href="token.html#les-mots"><i class="fa fa-check"></i><b>8.4.2</b> Les mots</a></li>
<li class="chapter" data-level="8.4.3" data-path="token.html"><a href="token.html#les-phrases"><i class="fa fa-check"></i><b>8.4.3</b> Les phrases</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="token.html"><a href="token.html#n-grammes"><i class="fa fa-check"></i><b>8.5</b> N-grammes</a><ul>
<li class="chapter" data-level="8.5.1" data-path="token.html"><a href="token.html#propriétés-statistiques-des-n-grammes"><i class="fa fa-check"></i><b>8.5.1</b> Propriétés statistiques des n-grammes</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="token.html"><a href="token.html#choisir-des-n-grammes-pertinents"><i class="fa fa-check"></i><b>8.6</b> Choisir des n-grammes pertinents</a><ul>
<li class="chapter" data-level="8.6.1" data-path="token.html"><a href="token.html#créer-les-tokens-avec-quanteda"><i class="fa fa-check"></i><b>8.6.1</b> Créer les <em>tokens</em> avec ‘quanteda’</a></li>
<li class="chapter" data-level="8.6.2" data-path="token.html"><a href="token.html#identifier-les-noms-propres"><i class="fa fa-check"></i><b>8.6.2</b> Identifier les noms propres</a></li>
<li class="chapter" data-level="8.6.3" data-path="token.html"><a href="token.html#composer-des-tokens-à-partir-dexpressions-multi-mots"><i class="fa fa-check"></i><b>8.6.3</b> Composer des <em>tokens</em> à partir d’expressions multi-mots</a></li>
<li class="chapter" data-level="8.6.4" data-path="token.html"><a href="token.html#identifier-les-autres-concepts"><i class="fa fa-check"></i><b>8.6.4</b> Identifier les autres concepts</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="token.html"><a href="token.html#conclusion-3"><i class="fa fa-check"></i><b>8.7</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="annot.html"><a href="annot.html"><i class="fa fa-check"></i><b>9</b> Annotations lexicales et syntaxiques</a><ul>
<li class="chapter" data-level="9.1" data-path="annot.html"><a href="annot.html#tokenization"><i class="fa fa-check"></i><b>9.1</b> Tokenization</a><ul>
<li class="chapter" data-level="9.1.1" data-path="annot.html"><a href="annot.html#les-niveaux-de-tokenisation"><i class="fa fa-check"></i><b>9.1.1</b> Les niveaux de tokenisation</a></li>
<li class="chapter" data-level="9.1.2" data-path="annot.html"><a href="annot.html#un-exemple-en-tidytext"><i class="fa fa-check"></i><b>9.1.2</b> Un exemple en tidytext</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="annot.html"><a href="annot.html#stemmatisation-lemmatisation-et-synonymisation"><i class="fa fa-check"></i><b>9.2</b> Stemmatisation, lemmatisation et synonymisation</a><ul>
<li class="chapter" data-level="9.2.1" data-path="annot.html"><a href="annot.html#la-stemmatisation"><i class="fa fa-check"></i><b>9.2.1</b> la stemmatisation</a></li>
<li class="chapter" data-level="9.2.2" data-path="annot.html"><a href="annot.html#la-lemmatisation"><i class="fa fa-check"></i><b>9.2.2</b> la lemmatisation</a></li>
<li class="chapter" data-level="9.2.3" data-path="annot.html"><a href="annot.html#synonymisation"><i class="fa fa-check"></i><b>9.2.3</b> Synonymisation</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="annot.html"><a href="annot.html#part-of-speech-pos"><i class="fa fa-check"></i><b>9.3</b> Part of Speech (POS)</a></li>
<li class="chapter" data-level="9.4" data-path="annot.html"><a href="annot.html#dépendances-syntaxiques"><i class="fa fa-check"></i><b>9.4</b> Dépendances syntaxiques</a><ul>
<li class="chapter" data-level="9.4.1" data-path="annot.html"><a href="annot.html#arbre-syntaxique"><i class="fa fa-check"></i><b>9.4.1</b> Arbre syntaxique</a></li>
<li class="chapter" data-level="9.4.2" data-path="annot.html"><a href="annot.html#vers-des-application-plus-générale"><i class="fa fa-check"></i><b>9.4.2</b> Vers des application plus générale</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="annot.html"><a href="annot.html#reconnaissance-dentités-nommées"><i class="fa fa-check"></i><b>9.5</b> reconnaissance d’entités nommées</a></li>
<li class="chapter" data-level="9.6" data-path="annot.html"><a href="annot.html#co-reférence"><i class="fa fa-check"></i><b>9.6</b> co-reférence</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="analyse-du-sentiment.html"><a href="analyse-du-sentiment.html"><i class="fa fa-check"></i><b>10</b> Analyse du sentiment</a><ul>
<li class="chapter" data-level="10.1" data-path="analyse-du-sentiment.html"><a href="analyse-du-sentiment.html#un-exemple-avec-syuzhet"><i class="fa fa-check"></i><b>10.1</b> Un exemple avec syuzhet</a><ul>
<li class="chapter" data-level="10.1.1" data-path="analyse-du-sentiment.html"><a href="analyse-du-sentiment.html#valence-et-expression"><i class="fa fa-check"></i><b>10.1.1</b> Valence et expression</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="analyse-du-sentiment.html"><a href="analyse-du-sentiment.html#la-généralisation-par-le-liwc"><i class="fa fa-check"></i><b>10.2</b> La généralisation par le Liwc</a></li>
<li class="chapter" data-level="10.3" data-path="analyse-du-sentiment.html"><a href="analyse-du-sentiment.html#encore-dautres-généralisations"><i class="fa fa-check"></i><b>10.3</b> Encore d’autres généralisations</a></li>
<li class="chapter" data-level="10.4" data-path="analyse-du-sentiment.html"><a href="analyse-du-sentiment.html#construire-son-propre-dictionnaire"><i class="fa fa-check"></i><b>10.4</b> construire son propre dictionnaire</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="topic-analysis.html"><a href="topic-analysis.html"><i class="fa fa-check"></i><b>11</b> Topic Analysis</a><ul>
<li class="chapter" data-level="11.1" data-path="topic-analysis.html"><a href="topic-analysis.html#lda"><i class="fa fa-check"></i><b>11.1</b> LDA</a><ul>
<li class="chapter" data-level="11.1.1" data-path="topic-analysis.html"><a href="topic-analysis.html#le-modèle-original-de-blei"><i class="fa fa-check"></i><b>11.1.1</b> Le modèle original de Blei</a></li>
<li class="chapter" data-level="11.1.2" data-path="topic-analysis.html"><a href="topic-analysis.html#une-application-aux-commentaires-trip-advisor"><i class="fa fa-check"></i><b>11.1.2</b> Une application aux commentaires trip advisor</a></li>
<li class="chapter" data-level="11.1.3" data-path="topic-analysis.html"><a href="topic-analysis.html#la-determination-du-nombre-optimal-de-topics"><i class="fa fa-check"></i><b>11.1.3</b> la determination du nombre optimal de topics</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="topic-analysis.html"><a href="topic-analysis.html#stm"><i class="fa fa-check"></i><b>11.2</b> STM</a></li>
<li class="chapter" data-level="11.3" data-path="topic-analysis.html"><a href="topic-analysis.html#implementation-avec-wor2vec-regarder-la-place-de-la-vectorisation"><i class="fa fa-check"></i><b>11.3</b> Implementation avec wor2vec ( regarder la place de la vectorisation)</a><ul>
<li class="chapter" data-level="11.3.1" data-path="topic-analysis.html"><a href="topic-analysis.html#représentation-graphique"><i class="fa fa-check"></i><b>11.3.1</b> Représentation graphique</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="annexes-quelques-problèmes-très-techniques.html"><a href="annexes-quelques-problèmes-très-techniques.html"><i class="fa fa-check"></i><b>12</b> Annexes : quelques problèmes très techniques</a><ul>
<li class="chapter" data-level="12.1" data-path="annexes-quelques-problèmes-très-techniques.html"><a href="annexes-quelques-problèmes-très-techniques.html#la-question-de-lencodage"><i class="fa fa-check"></i><b>12.1</b> La question de l’encodage</a></li>
<li class="chapter" data-level="12.2" data-path="annexes-quelques-problèmes-très-techniques.html"><a href="annexes-quelques-problèmes-très-techniques.html#jouer-avec-les-formats-de-données"><i class="fa fa-check"></i><b>12.2</b> Jouer avec les formats de données</a><ul>
<li class="chapter" data-level="12.2.1" data-path="annexes-quelques-problèmes-très-techniques.html"><a href="annexes-quelques-problèmes-très-techniques.html#des-formats-exotiques"><i class="fa fa-check"></i><b>12.2.1</b> des formats exotiques</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="annexes-quelques-problèmes-très-techniques.html"><a href="annexes-quelques-problèmes-très-techniques.html#adopter-des-formats-propres-tidy"><i class="fa fa-check"></i><b>12.3</b> Adopter des formats “propres” (tidy)</a></li>
<li class="chapter" data-level="12.4" data-path="annexes-quelques-problèmes-très-techniques.html"><a href="annexes-quelques-problèmes-très-techniques.html#les-limites-du-calcul"><i class="fa fa-check"></i><b>12.4</b> Les limites du calcul</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">NLP avec r et en français - un Manuel synthétique</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="token" class="section level1">
<h1><span class="header-section-number">Chapitre 8</span> Tokenisation</h1>
<div id="objectifs-du-chapitre" class="section level2">
<h2><span class="header-section-number">8.1</span> <em>Objectifs du chapitre</em></h2>
<ul>
<li>Découper un texte en <em>tokens</em></li>
<li>Visualiser les n-grammes du texte</li>
<li>Identifier les n-grammes pertinents et les transformer en <em>tokens</em></li>
</ul>
</div>
<div id="les-outils" class="section level2">
<h2><span class="header-section-number">8.2</span> Les outils</h2>
<ul>
<li>Jeu de données : une citation de Max Weber et le corpus des commentaires laissés sur TripAdvisor concernant les hôtels polynésiens.</li>
<li>Packages utilisés : <a href="https://cran.r-project.org/web/packages/tokenizers/vignettes/introduction-to-tokenizers.html"><code>tokenizer</code></a> ; <a href="https://quanteda.io"><code>quanteda</code></a> ; <a href="https://github.com/quanteda/stopwords">‘stopwords’</a></li>
</ul>
</div>
<div id="introduction" class="section level2">
<h2><span class="header-section-number">8.3</span> Introduction</h2>
<p>L’étape intiale de toute analyse textuelle est de découper le texte en unités d’analyse, les <em>tokens</em>, ce qui transforme le texte écrit pour la compréhension humaine en données interprétables par l’ordinateur. Les <em>tokens</em> utilisés peuvent varier selon les objectifs de l’analyse et la nature du corpus, la granularité peut être plus ou moins fine. Les <em>tokens</em> peuvent ainsi être :</p>
<ul>
<li>des lettres : c’est l’unité insécable</li>
<li>des syllabes : ça permet de s’intéresser aux phonèmes</li>
<li>des mots : il s’agit du niveau le plus évident et le plus courant, que l’on privilégiera tout au long de ce livre</li>
<li>des phrases : c’est l’unité de langage, lui correpond un argument, une proposition ; l’usage du point suivi d’un espace et d’une majuscule est assez général pour les identifier</li>
<li>des paragraphes : c’est une unité plus générale, qui souvent développe une idée</li>
<li>des sections, des chapitres, ou des livres : selon la nature des documents, cela permet de découper le corpus en sous-unités.</li>
</ul>
<p>Les <em>tokenizers</em> sont les outils indispensables à cette tâche. Dans cet ouvrage, nous nous concentrons sur l’étude des mots. Lors de cette étude, un certain nombre de mots apparaissent de nombreuses fois, pour permettre de donner du sens au langage humain, mais ils ne portent pas en eux d’informations particulièrement pertinentes pour l’analyse : ce sont les <em>stopwords</em>, qu’il conviendra souvent d’éliminer.</p>
<p>Les n-grammes, quant à eux, représentent des suites de n <em>tokens</em>. Un unigramme est donc équivalent à un <em>token</em>, un bigramme est une suite de deux <em>tokens</em>, etc. L’identification des n-grammes permet de détecter des suites de <em>tokens</em> qui reviennent plus souvent que leur probabilité d’occurrences. Si l’on se concentre sur les mots, nous sommes alors face à une unité sémantique, comme on le comprend facilement avec le bigramme ‘Assemblée Nationale’.</p>
</div>
<div id="tokeniser-un-corpus" class="section level2">
<h2><span class="header-section-number">8.4</span> Tokeniser un corpus</h2>
<div id="les-lettres" class="section level3">
<h3><span class="header-section-number">8.4.1</span> Les lettres</h3>
<p>Commençons par un exemple simple, à l’aide d’une courte citation de Max Weber. On choisit les lettres pour unité de découpe, et l’on utilise le package ‘tokenizer’. Automatiquement, ‘tokenizer’ met le texte en minuscule et élimine la ponctuation</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb59-1" title="1"><span class="co">#Les données</span></a>
<a class="sourceLine" id="cb59-2" title="2">MaxWeber &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;Bureaucratie: le moyen le plus rationnel que l’on connaisse pour exercer un contrôle impératif sur des êtres humains.&quot;</span>)</a>
<a class="sourceLine" id="cb59-3" title="3"></a>
<a class="sourceLine" id="cb59-4" title="4"><span class="co">#On tokenise, plus on transforme en dataframe le résultat.</span></a>
<a class="sourceLine" id="cb59-5" title="5">toc_maxweber&lt;-<span class="kw">tokenize_characters</span>(MaxWeber)<span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb59-6" title="6"><span class="st">        </span><span class="kw">as.data.frame</span>()<span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb59-7" title="7"><span class="st">        </span><span class="kw">rename</span>(<span class="dt">tokens=</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb59-8" title="8"><span class="co">#On compte pour chaque token sa fréquence d&#39;apparition</span></a>
<a class="sourceLine" id="cb59-9" title="9">foo&lt;-toc_maxweber <span class="op">%&gt;%</span><span class="kw">mutate</span>(<span class="dt">n=</span><span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb59-10" title="10"><span class="st">        </span><span class="kw">group_by</span>(tokens)<span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb59-11" title="11"><span class="st">        </span><span class="kw">summarise</span>(<span class="dt">n=</span><span class="kw">sum</span>(n))<span class="op">%&gt;%</span><span class="kw">filter</span>(n<span class="op">&gt;</span><span class="dv">0</span>)</a>
<a class="sourceLine" id="cb59-12" title="12"><span class="co">#On représente par un diagramme en barre cette distribution des occuences d&#39;apparition, en classant les tokens par fréquence</span></a>
<a class="sourceLine" id="cb59-13" title="13"><span class="kw">ggplot</span>(foo, <span class="kw">aes</span>(<span class="dt">x=</span><span class="kw">reorder</span>(tokens,n), <span class="dt">y=</span>n))<span class="op">+</span></a>
<a class="sourceLine" id="cb59-14" title="14"><span class="st">               </span><span class="kw">geom_bar</span>(<span class="dt">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="dt">fill=</span><span class="st">&quot;royalblue&quot;</span>)<span class="op">+</span></a>
<a class="sourceLine" id="cb59-15" title="15"><span class="st">        </span><span class="kw">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="dt">x=</span><span class="dv">10</span>,<span class="dt">y=</span><span class="dv">10</span>, <span class="dt">label=</span><span class="kw">paste</span>(<span class="st">&quot;nombre de tokens =&quot;</span>, <span class="kw">nrow</span>(toc_maxweber)))<span class="op">+</span></a>
<a class="sourceLine" id="cb59-16" title="16"><span class="st">               </span><span class="kw">coord_flip</span>()<span class="op">+</span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Fréquence des tokens, unité = lettres&quot;</span>, <span class="dt">x=</span><span class="st">&quot;tokens&quot;</span>, <span class="dt">y=</span><span class="st">&quot;nombre d&#39;occurences&quot;</span>, <span class="dt">caption =</span><span class="st">&quot; &#39;Bureaucratie: le moyen le plus rationnel que l’on connaisse pour exercer un contrôle impératif sur des êtres humains.&#39; &quot;</span>)</a></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:501"></span>
<img src="bookdown-demo_files/figure-html/501-1.png" alt="Distribution du nombre de lettres" width="80%" />
<p class="caption">
Figure 8.1: Distribution du nombre de lettres
</p>
</div>
</div>
<div id="les-mots" class="section level3">
<h3><span class="header-section-number">8.4.2</span> Les mots</h3>
<p>On refait la même opération, mais avec un texte complété. Il y a bien moins de mots que de lettres !</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb60-1" title="1"><span class="co">#Les données</span></a>
<a class="sourceLine" id="cb60-2" title="2"></a>
<a class="sourceLine" id="cb60-3" title="3">MaxWeber &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;Bureaucratie: le moyen le plus rationnel que l’on connaisse pour exercer un contrôle impératif sur des êtres humains. La bureaucratie est une forme d&#39;organisation générale caractérisée par la prépondérance des règles et de procédures qui sont appliquées de façon impersonnelle par des agents spécialisés. Ces agents appliquent les règles sans discuter des objectifs ou des raisons qui les fondent. Ils doivent faire preuve de neutralité et oublier leurs propres intérêts personnels au profit de l’intérêt général.&quot;</span>)</a>
<a class="sourceLine" id="cb60-4" title="4"></a>
<a class="sourceLine" id="cb60-5" title="5"><span class="co">#On tokenise, plus on transforme en dataframe le résultat.</span></a>
<a class="sourceLine" id="cb60-6" title="6">toc_maxweber&lt;-<span class="kw">tokenize_words</span>(MaxWeber)<span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb60-7" title="7"><span class="st">        </span><span class="kw">as.data.frame</span>()<span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb60-8" title="8"><span class="st">        </span><span class="kw">rename</span>(<span class="dt">tokens=</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb60-9" title="9"></a>
<a class="sourceLine" id="cb60-10" title="10"><span class="co">#On compte pour chaque token sa fréquence d&#39;apparition</span></a>
<a class="sourceLine" id="cb60-11" title="11">foo&lt;-toc_maxweber <span class="op">%&gt;%</span><span class="kw">mutate</span>(<span class="dt">n=</span><span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb60-12" title="12"><span class="st">        </span><span class="kw">group_by</span>(tokens)<span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb60-13" title="13"><span class="st">        </span><span class="kw">summarise</span>(<span class="dt">n=</span><span class="kw">sum</span>(n))</a>
<a class="sourceLine" id="cb60-14" title="14"></a>
<a class="sourceLine" id="cb60-15" title="15"><span class="co">#On représente par un diagramme en barre cette distribution des occurrences, en classant les tokens par fréquence</span></a>
<a class="sourceLine" id="cb60-16" title="16"><span class="kw">ggplot</span>(foo, <span class="kw">aes</span>(<span class="dt">x=</span><span class="kw">reorder</span>(tokens,n), <span class="dt">y=</span>n))<span class="op">+</span></a>
<a class="sourceLine" id="cb60-17" title="17"><span class="st">               </span><span class="kw">geom_bar</span>(<span class="dt">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="dt">fill=</span><span class="st">&quot;royalblue&quot;</span>)<span class="op">+</span></a>
<a class="sourceLine" id="cb60-18" title="18"><span class="st">        </span><span class="kw">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="dt">x=</span><span class="dv">10</span>,<span class="dt">y=</span><span class="dv">4</span>, <span class="dt">label=</span><span class="kw">paste</span>(<span class="st">&quot;nombre de tokens =&quot;</span>, <span class="kw">nrow</span>(toc_maxweber)))<span class="op">+</span></a>
<a class="sourceLine" id="cb60-19" title="19"><span class="st">               </span><span class="kw">coord_flip</span>()<span class="op">+</span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Fréquence des tokens, unité = mots&quot;</span>, <span class="dt">x=</span><span class="st">&quot;tokens&quot;</span>, <span class="dt">y=</span><span class="st">&quot;nombre d&#39;occurences&quot;</span>, <span class="dt">caption =</span><span class="st">&quot; &#39;Bureaucratie: le moyen le plus rationnel que l’on connaisse pour exercer un contrôle impératif sur des êtres humains.&#39; &quot;</span>)</a></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:502"></span>
<img src="bookdown-demo_files/figure-html/502-1.png" alt="Distribution du nombre de mots" width="80%" />
<p class="caption">
Figure 8.2: Distribution du nombre de mots
</p>
</div>
<p>On constate que les deux mots les plus fréquents de cette citation sont un article indéfini et une préposition. Ces mots sont souvent superflus pour les analyses menées, il convient alors de les supprimer. C’est ce qu’on fait par la suite, en utilisant le package ‘stopwords’ qui comprend des listes de stopwords dans différentes langues.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb61-1" title="1"><span class="co">#On tokenise et on enlève les stopwords, puis on transforme en dataframe le résultat.</span></a>
<a class="sourceLine" id="cb61-2" title="2">toc_maxweber&lt;-<span class="kw">tokenize_words</span>(MaxWeber, <span class="dt">stopwords =</span> <span class="kw">stopwords</span>(<span class="st">&quot;fr&quot;</span>))<span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb61-3" title="3"><span class="st">        </span><span class="kw">as.data.frame</span>()<span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb61-4" title="4"><span class="st">        </span><span class="kw">rename</span>(<span class="dt">tokens=</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb61-5" title="5"></a>
<a class="sourceLine" id="cb61-6" title="6"><span class="co">#On compte pour chaque token sa fréquence d&#39;apparition</span></a>
<a class="sourceLine" id="cb61-7" title="7">foo&lt;-toc_maxweber <span class="op">%&gt;%</span><span class="kw">mutate</span>(<span class="dt">n=</span><span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb61-8" title="8"><span class="st">        </span><span class="kw">group_by</span>(tokens)<span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb61-9" title="9"><span class="st">        </span><span class="kw">summarise</span>(<span class="dt">n=</span><span class="kw">sum</span>(n))<span class="op">%&gt;%</span><span class="kw">filter</span>(n<span class="op">&gt;</span><span class="dv">0</span>)</a>
<a class="sourceLine" id="cb61-10" title="10"></a>
<a class="sourceLine" id="cb61-11" title="11"><span class="co">#On représente par un diagramme en barre cette distribution des occurrences, en classant les tokens par fréquence</span></a>
<a class="sourceLine" id="cb61-12" title="12"><span class="kw">ggplot</span>(foo, <span class="kw">aes</span>(<span class="dt">x=</span><span class="kw">reorder</span>(tokens,n), <span class="dt">y=</span>n))<span class="op">+</span></a>
<a class="sourceLine" id="cb61-13" title="13"><span class="st">               </span><span class="kw">geom_bar</span>(<span class="dt">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="dt">fill=</span><span class="st">&quot;royalblue&quot;</span>)<span class="op">+</span></a>
<a class="sourceLine" id="cb61-14" title="14"><span class="st">        </span><span class="kw">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="dt">x=</span><span class="dv">10</span>,<span class="dt">y=</span><span class="fl">1.5</span>, <span class="dt">label=</span><span class="kw">paste</span>(<span class="st">&quot;nombre de tokens =&quot;</span>, <span class="kw">nrow</span>(toc_maxweber)))<span class="op">+</span></a>
<a class="sourceLine" id="cb61-15" title="15"><span class="st">               </span><span class="kw">coord_flip</span>()<span class="op">+</span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Fréquence des tokens, unité = mots, stopwords éliminés&quot;</span>, <span class="dt">x=</span><span class="st">&quot;tokens&quot;</span>, <span class="dt">y=</span><span class="st">&quot;nombre d&#39;occurences&quot;</span>, <span class="dt">caption =</span><span class="st">&quot; &#39;Bureaucratie: le moyen le plus rationnel que l’on connaisse pour exercer un contrôle impératif sur des êtres humains.&#39; &quot;</span>)</a></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:503"></span>
<img src="bookdown-demo_files/figure-html/503-1.png" alt="Distribution du nombre de mots, sans les stopwords" width="80%" />
<p class="caption">
Figure 8.3: Distribution du nombre de mots, sans les stopwords
</p>
</div>
<p>On peut également constater que certains mots sont proches, par exemple les deux derniers sur le graphiques précédents qui sont des déclinaisons du verbe appliquer. Il peut alors être pertinent de regrouper ces différentes formes verbales (comme un mot au singulier et au pluriel, au féminin et au masculin, ou conjugué sous différentes formes), pour faciliter l’analyse. C’est ce qu’on fait avec les opérations de <em>stemming</em> ou de lemmatisation, présentées au chapitre <a href="annot.html#annot">9</a>.</p>
</div>
<div id="les-phrases" class="section level3">
<h3><span class="header-section-number">8.4.3</span> Les phrases</h3>
<p>On reproduit les mêmes opérations, mais cette fois sur les phrases de l’exemple précédent.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb62-1" title="1"><span class="kw">tokenize_sentences</span>(MaxWeber)<span class="op">%&gt;%</span><span class="kw">as.data.frame</span>()<span class="op">%&gt;%</span><span class="kw">rename</span>(<span class="dt">tokens=</span><span class="dv">1</span>)<span class="op">%&gt;%</span><span class="kw">flextable</span>(<span class="dt">cwidth =</span> <span class="dv">5</span>)</a></code></pre></div>
<template id="493e98aa-f97e-467b-b1d1-c6e0e4a9882e"><style>
.tabwid table{
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-spacing: 0;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-e8049b32{border-collapse:collapse;}.cl-e7fb253e{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-e7fb732c{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-e7fb9a28{width:360pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e7fb9a29{width:360pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e7fbc124{width:360pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-e8049b32'>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-e7fbc124"><p class="cl-e7fb732c"><span class="cl-e7fb253e">tokens</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-e7fb9a28"><p class="cl-e7fb732c"><span class="cl-e7fb253e">Bureaucratie: le moyen le plus rationnel que l’on connaisse pour exercer un contrôle impératif sur des êtres humains.</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7fb9a28"><p class="cl-e7fb732c"><span class="cl-e7fb253e">La bureaucratie est une forme d'organisation générale caractérisée par la prépondérance des règles et de procédures qui sont appliquées de façon impersonnelle par des agents spécialisés.</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7fb9a28"><p class="cl-e7fb732c"><span class="cl-e7fb253e">Ces agents appliquent les règles sans discuter des objectifs ou des raisons qui les fondent.</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7fb9a29"><p class="cl-e7fb732c"><span class="cl-e7fb253e">Ils doivent faire preuve de neutralité et oublier leurs propres intérêts personnels au profit de l’intérêt général.</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="f07bac75-5ff6-4fa5-bd7a-e6b38c06c928"></div>
<script>
var dest = document.getElementById("f07bac75-5ff6-4fa5-bd7a-e6b38c06c928");
var template = document.getElementById("493e98aa-f97e-467b-b1d1-c6e0e4a9882e");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

</div>
</div>
<div id="n-grammes" class="section level2">
<h2><span class="header-section-number">8.5</span> N-grammes</h2>
<p>Les n-grammes sont des séquences de n <em>tokens</em>, généralement consécutifs. Voici tout de suite un exemple sur les lettres<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>, allant de bigramme au trigramme :</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb63-1" title="1">toc_maxweber&lt;-<span class="kw">tokenize_character_shingles</span>(MaxWeber,<span class="dt">n=</span><span class="dv">3</span>, <span class="dt">n_min=</span><span class="dv">2</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb63-2" title="2"><span class="st">        </span><span class="kw">as.data.frame</span>()<span class="op">%&gt;%</span><span class="kw">rename</span>(<span class="dt">tokens=</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb63-3" title="3"><span class="kw">flextable</span>(<span class="kw">head</span>(toc_maxweber, <span class="dt">n=</span><span class="dv">20</span>))</a></code></pre></div>
<template id="5c68d42c-dc03-4c6a-9b8f-12d65b1b4a1f"><style>
.tabwid table{
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-spacing: 0;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-e824d712{border-collapse:collapse;}.cl-e81d27b0{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-e81d4eac{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-e81d75a8{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e81d75a9{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e81d75aa{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-e824d712'>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-e81d75aa"><p class="cl-e81d4eac"><span class="cl-e81d27b0">tokens</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-e81d75a8"><p class="cl-e81d4eac"><span class="cl-e81d27b0">bu</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e81d75a8"><p class="cl-e81d4eac"><span class="cl-e81d27b0">bur</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e81d75a8"><p class="cl-e81d4eac"><span class="cl-e81d27b0">ur</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e81d75a8"><p class="cl-e81d4eac"><span class="cl-e81d27b0">ure</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e81d75a8"><p class="cl-e81d4eac"><span class="cl-e81d27b0">re</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e81d75a8"><p class="cl-e81d4eac"><span class="cl-e81d27b0">rea</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e81d75a8"><p class="cl-e81d4eac"><span class="cl-e81d27b0">ea</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e81d75a8"><p class="cl-e81d4eac"><span class="cl-e81d27b0">eau</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e81d75a8"><p class="cl-e81d4eac"><span class="cl-e81d27b0">au</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e81d75a8"><p class="cl-e81d4eac"><span class="cl-e81d27b0">auc</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e81d75a8"><p class="cl-e81d4eac"><span class="cl-e81d27b0">uc</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e81d75a8"><p class="cl-e81d4eac"><span class="cl-e81d27b0">ucr</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e81d75a8"><p class="cl-e81d4eac"><span class="cl-e81d27b0">cr</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e81d75a8"><p class="cl-e81d4eac"><span class="cl-e81d27b0">cra</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e81d75a8"><p class="cl-e81d4eac"><span class="cl-e81d27b0">ra</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e81d75a8"><p class="cl-e81d4eac"><span class="cl-e81d27b0">rat</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e81d75a8"><p class="cl-e81d4eac"><span class="cl-e81d27b0">at</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e81d75a8"><p class="cl-e81d4eac"><span class="cl-e81d27b0">ati</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e81d75a8"><p class="cl-e81d4eac"><span class="cl-e81d27b0">ti</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e81d75a9"><p class="cl-e81d4eac"><span class="cl-e81d27b0">tie</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="7d497527-2738-47d4-96df-f15e86f4852c"></div>
<script>
var dest = document.getElementById("7d497527-2738-47d4-96df-f15e86f4852c");
var template = document.getElementById("5c68d42c-dc03-4c6a-9b8f-12d65b1b4a1f");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb64-1" title="1">foo&lt;-toc_maxweber <span class="op">%&gt;%</span><span class="kw">mutate</span>(<span class="dt">n=</span><span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb64-2" title="2"><span class="st">        </span><span class="kw">group_by</span>(tokens)<span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb64-3" title="3"><span class="st">        </span><span class="kw">summarise</span>(<span class="dt">n=</span><span class="kw">sum</span>(n))<span class="op">%&gt;%</span><span class="kw">filter</span>(n<span class="op">&gt;</span><span class="dv">3</span>)</a>
<a class="sourceLine" id="cb64-4" title="4"></a>
<a class="sourceLine" id="cb64-5" title="5"><span class="kw">ggplot</span>(foo, <span class="kw">aes</span>(<span class="dt">x=</span><span class="kw">reorder</span>(tokens,n), <span class="dt">y=</span>n))<span class="op">+</span></a>
<a class="sourceLine" id="cb64-6" title="6"><span class="st">               </span><span class="kw">geom_bar</span>(<span class="dt">stat=</span><span class="st">&quot;identity&quot;</span>, <span class="dt">fill=</span><span class="st">&quot;royalblue&quot;</span>)<span class="op">+</span><span class="kw">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="dt">x=</span><span class="dv">5</span>,<span class="dt">y=</span><span class="dv">11</span>, <span class="dt">label=</span><span class="kw">paste</span>(<span class="st">&quot;nombre de tokens =&quot;</span>, <span class="kw">nrow</span>(toc_maxweber)))<span class="op">+</span></a>
<a class="sourceLine" id="cb64-7" title="7"><span class="st">               </span><span class="kw">coord_flip</span>()<span class="op">+</span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Bigrammes et trigrammes des lettres&quot;</span>, <span class="dt">x=</span><span class="st">&quot;n-gramme&quot;</span>, <span class="dt">y=</span><span class="st">&quot;nombre d&#39;occurences&quot;</span>)</a></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:505"></span>
<img src="bookdown-demo_files/figure-html/505-1.png" alt="Bigrammes et trigrammes de lettres" width="80%" />
<p class="caption">
Figure 8.4: Bigrammes et trigrammes de lettres
</p>
</div>
<p>On peut faire la même chose sur les mots, en éliminant les <em>stopwords</em> :</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb65-1" title="1">toc_maxweber&lt;-<span class="kw">tokenize_ngrams</span>(MaxWeber,<span class="dt">n=</span><span class="dv">3</span>, <span class="dt">n_min=</span><span class="dv">2</span>, <span class="dt">stopwords =</span> <span class="kw">stopwords</span>(<span class="st">&#39;fr&#39;</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb65-2" title="2"><span class="st">        </span><span class="kw">as.data.frame</span>()<span class="op">%&gt;%</span><span class="kw">rename</span>(<span class="dt">tokens=</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb65-3" title="3"><span class="kw">qflextable</span>(<span class="kw">head</span>(toc_maxweber, <span class="dt">n=</span><span class="dv">19</span>))</a></code></pre></div>
<template id="4bbb937e-795e-4142-8eca-a6b71be9305c"><style>
.tabwid table{
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-spacing: 0;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-e8d3821c{border-collapse:collapse;}.cl-e8c96980{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-e8c96981{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-e8c96982{width:152pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e8c96983{width:152pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e8c96984{width:152pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e8c96985{width:152pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e8c96986{width:152pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e8c96987{width:152pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e8c96988{width:152pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e8c96989{width:152pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e8c9698a{width:152pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-e8d3821c'>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-e8c9698a"><p class="cl-e8c96981"><span class="cl-e8c96980">tokens</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-e8c96982"><p class="cl-e8c96981"><span class="cl-e8c96980">bureaucratie moyen</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8c96982"><p class="cl-e8c96981"><span class="cl-e8c96980">bureaucratie moyen plus</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8c96982"><p class="cl-e8c96981"><span class="cl-e8c96980">moyen plus</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8c96982"><p class="cl-e8c96981"><span class="cl-e8c96980">moyen plus rationnel</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8c96988"><p class="cl-e8c96981"><span class="cl-e8c96980">plus rationnel</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8c96989"><p class="cl-e8c96981"><span class="cl-e8c96980">plus rationnel l’on</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8c96983"><p class="cl-e8c96981"><span class="cl-e8c96980">rationnel l’on</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8c96983"><p class="cl-e8c96981"><span class="cl-e8c96980">rationnel l’on connaisse</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8c96983"><p class="cl-e8c96981"><span class="cl-e8c96980">l’on connaisse</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8c96983"><p class="cl-e8c96981"><span class="cl-e8c96980">l’on connaisse exercer</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8c96984"><p class="cl-e8c96981"><span class="cl-e8c96980">connaisse exercer</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8c96985"><p class="cl-e8c96981"><span class="cl-e8c96980">connaisse exercer contrôle</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8c96985"><p class="cl-e8c96981"><span class="cl-e8c96980">exercer contrôle</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8c96986"><p class="cl-e8c96981"><span class="cl-e8c96980">exercer contrôle impératif</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8c96986"><p class="cl-e8c96981"><span class="cl-e8c96980">contrôle impératif</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8c96986"><p class="cl-e8c96981"><span class="cl-e8c96980">contrôle impératif êtres</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8c96986"><p class="cl-e8c96981"><span class="cl-e8c96980">impératif êtres</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8c96986"><p class="cl-e8c96981"><span class="cl-e8c96980">impératif êtres humains</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8c96987"><p class="cl-e8c96981"><span class="cl-e8c96980">êtres humains</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="4a15808a-106c-4ea3-a607-8f9a8f6b37a3"></div>
<script>
var dest = document.getElementById("4a15808a-106c-4ea3-a607-8f9a8f6b37a3");
var template = document.getElementById("4bbb937e-795e-4142-8eca-a6b71be9305c");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p>On peut également s’intéresser aux n-grammes non directement consécutifs mais séparés par k <em>tokens</em> :</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb66-1" title="1">toc_maxweber&lt;-<span class="kw">tokenize_skip_ngrams</span>(MaxWeber,<span class="dt">n=</span><span class="dv">3</span>, <span class="dt">n_min=</span><span class="dv">2</span>, <span class="dt">k=</span><span class="dv">2</span>, <span class="dt">stopwords =</span> <span class="kw">stopwords</span>(<span class="st">&#39;fr&#39;</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb66-2" title="2"><span class="st">        </span><span class="kw">as.data.frame</span>()<span class="op">%&gt;%</span><span class="kw">rename</span>(<span class="dt">tokens=</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb66-3" title="3"><span class="kw">qflextable</span>(<span class="kw">head</span>(toc_maxweber, <span class="dt">n=</span><span class="dv">19</span>))</a></code></pre></div>
<template id="66da2fc5-de7f-4785-ad7b-d1f6290daba3"><style>
.tabwid table{
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-spacing: 0;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-e8f3f858{border-collapse:collapse;}.cl-e8e971da{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-e8e998d6{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-e8e9bfc8{width:179.5pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e8e9bfc9{width:179.5pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e8e9bfca{width:179.5pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e8e9bfcb{width:179.5pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e8e9bfcc{width:179.5pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e8e9bfcd{width:179.5pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e8e9bfce{width:179.5pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e8e9bfcf{width:179.5pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-e8f3f858'>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-e8e9bfcf"><p class="cl-e8e998d6"><span class="cl-e8e971da">tokens</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-e8e9bfc8"><p class="cl-e8e998d6"><span class="cl-e8e971da">bureaucratie moyen</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8e9bfcd"><p class="cl-e8e998d6"><span class="cl-e8e971da">bureaucratie plus</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8e9bfca"><p class="cl-e8e998d6"><span class="cl-e8e971da">bureaucratie rationnel</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8e9bfc8"><p class="cl-e8e998d6"><span class="cl-e8e971da">bureaucratie moyen plus</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8e9bfc8"><p class="cl-e8e998d6"><span class="cl-e8e971da">bureaucratie moyen rationnel</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8e9bfcb"><p class="cl-e8e998d6"><span class="cl-e8e971da">bureaucratie moyen l’on</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8e9bfcd"><p class="cl-e8e998d6"><span class="cl-e8e971da">bureaucratie plus rationnel</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8e9bfce"><p class="cl-e8e998d6"><span class="cl-e8e971da">bureaucratie plus l’on</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8e9bfcd"><p class="cl-e8e998d6"><span class="cl-e8e971da">bureaucratie plus connaisse</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8e9bfc9"><p class="cl-e8e998d6"><span class="cl-e8e971da">bureaucratie rationnel l’on</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8e9bfca"><p class="cl-e8e998d6"><span class="cl-e8e971da">bureaucratie rationnel connaisse</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8e9bfca"><p class="cl-e8e998d6"><span class="cl-e8e971da">bureaucratie rationnel exercer</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8e9bfc8"><p class="cl-e8e998d6"><span class="cl-e8e971da">moyen plus</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8e9bfc8"><p class="cl-e8e998d6"><span class="cl-e8e971da">moyen rationnel</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8e9bfcb"><p class="cl-e8e998d6"><span class="cl-e8e971da">moyen l’on</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8e9bfc8"><p class="cl-e8e998d6"><span class="cl-e8e971da">moyen plus rationnel</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8e9bfcb"><p class="cl-e8e998d6"><span class="cl-e8e971da">moyen plus l’on</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8e9bfc8"><p class="cl-e8e998d6"><span class="cl-e8e971da">moyen plus connaisse</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e8e9bfcc"><p class="cl-e8e998d6"><span class="cl-e8e971da">moyen rationnel l’on</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="df1f7249-af5e-48da-b429-40c979becc71"></div>
<script>
var dest = document.getElementById("df1f7249-af5e-48da-b429-40c979becc71");
var template = document.getElementById("66da2fc5-de7f-4785-ad7b-d1f6290daba3");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p>Dans cet exemple, aucun n-gramme n’est répété, mais c’est rarement le cas avec des corpus plus importants. Dans ce cas, une forte répétition de n-grammes est un indice d’une unité sémantique composée de plusieurs <em>tokens</em> que l’on peut alors regrouper en un seul et même <em>token</em>. C’est ce que l’on verra dans la section suivante, avec l’utilisation de ‘quanteda’.</p>
<div id="propriétés-statistiques-des-n-grammes" class="section level3">
<h3><span class="header-section-number">8.5.1</span> Propriétés statistiques des n-grammes</h3>
<p>Sur la d’un base d’un corpus important on peut calculer les probabilité d’apparitions d’un n-gramme. C’est une ressource que fournit Google
avec son <a href="https://books.google.com/ngrams/">Books Ngram Viewer</a>.</p>
<p><a href="https://fr.wikipedia.org/wiki/N-gramme">Processus de markov</a></p>
<p>application à la correction</p>
</div>
</div>
<div id="choisir-des-n-grammes-pertinents" class="section level2">
<h2><span class="header-section-number">8.6</span> Choisir des n-grammes pertinents</h2>
<p>Dans ce livre l’unité principales d’analyse restera le mot. Mais nous savons, au moins intuitivement que certaines combinaisons de mots représentent des expressions qui ont la valeur d’un mot, une valeur sémantique, par exemple, l’expression “Assemblée Nationale”. Ces deux mots réunis constituent un syntagme, une unité de sens. La question qui se pose est alors de savoir comment les identifier dans le flot des n-grammes ?</p>
<p>La technique est simple : si deux mots se retrouvent dans un ordre donné plus fréquemment que ce que le produit de leurs probabilités d’apparition laisse espérer, c’est qu’ils constituent une expression. On peut imaginer faire un test du chi² pour décider si un couple de mots constitue une unité sémantique ou non.</p>
<p>Le package quanteda propose une bonne solution à ce problème avec la fonction collocation.</p>
<div id="créer-les-tokens-avec-quanteda" class="section level3">
<h3><span class="header-section-number">8.6.1</span> Créer les <em>tokens</em> avec ‘quanteda’</h3>
<p>À partir du corpus des commentaires de TripAdvisor concernant les hôtels de Polynésie Française, on crée un objet de format <em>token</em>, dans lequel on a enlevé les <em>stopwords</em>. Mais pour que les n-grammes très fréquents restent des syntagmes signifiants, on laisse apparent les positions des <em>stopwords</em>, avec l’option ‘padding= TRUE’.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb67-1" title="1"><span class="co">#les données</span></a>
<a class="sourceLine" id="cb67-2" title="2">AvisTripadvisor&lt;-<span class="kw">read_rds</span>(<span class="st">&quot;data/AvisTripadvisor.rds&quot;</span>)</a>
<a class="sourceLine" id="cb67-3" title="3"><span class="co">#création du corpus</span></a>
<a class="sourceLine" id="cb67-4" title="4">corpus&lt;-<span class="kw">corpus</span>(AvisTripadvisor,<span class="dt">docid_field =</span> <span class="st">&quot;ID&quot;</span>,<span class="dt">text_field =</span> <span class="st">&quot;Commetaire&quot;</span>)</a>
<a class="sourceLine" id="cb67-5" title="5"><span class="kw">head</span>(corpus)</a></code></pre></div>
<pre><code>## Corpus consisting of 6 documents and 21 docvars.
## 1 :
## &quot;Tout est magnifique au Vahine island. Séjour de rêve avec un...&quot;
## 
## 2 :
## &quot;Tout était parfait, notre meilleure expérience et plus belle...&quot;
## 
## 3 :
## &quot;Un séjour magnifique, 3 jours époustouflants, accueillis cha...&quot;
## 
## 4 :
## &quot;Vraiment beau, cadre idyllique personnel très attentionné. N...&quot;
## 
## 5 :
## &quot;Au Vahiné Island on entre dans un monde parallèle où on ne s...&quot;
## 
## 6 :
## &quot;Nous avons adoré notre séjour au Vahiné Island avec nos 3 en...&quot;</code></pre>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb69-1" title="1"><span class="co">#transformation en objet token</span></a>
<a class="sourceLine" id="cb69-2" title="2">tok&lt;-<span class="kw">tokens</span>(corpus,<span class="dt">remove_punct =</span> <span class="ot">TRUE</span>, <span class="dt">remove_symbols=</span><span class="ot">TRUE</span>, <span class="dt">remove_numbers=</span><span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb69-3" title="3"><span class="kw">head</span>(tok)</a></code></pre></div>
<pre><code>## Tokens consisting of 6 documents and 21 docvars.
## 1 :
##  [1] &quot;Tout&quot;       &quot;est&quot;        &quot;magnifique&quot; &quot;au&quot;         &quot;Vahine&quot;    
##  [6] &quot;island&quot;     &quot;Séjour&quot;     &quot;de&quot;         &quot;rêve&quot;       &quot;avec&quot;      
## [11] &quot;une&quot;        &quot;équipe&quot;    
## [ ... and 22 more ]
## 
## 2 :
##  [1] &quot;Tout&quot;         &quot;était&quot;        &quot;parfait&quot;      &quot;notre&quot;        &quot;meilleure&quot;   
##  [6] &quot;expérience&quot;   &quot;et&quot;           &quot;plus&quot;         &quot;belle&quot;        &quot;découverte&quot;  
## [11] &quot;en&quot;           &quot;Polynésie.Un&quot;
## [ ... and 37 more ]
## 
## 3 :
##  [1] &quot;Un&quot;              &quot;séjour&quot;          &quot;magnifique&quot;      &quot;jours&quot;          
##  [5] &quot;époustouflants&quot;  &quot;accueillis&quot;      &quot;chaleureusement&quot; &quot;par&quot;            
##  [9] &quot;toute&quot;           &quot;l&#39;équipe&quot;        &quot;du&quot;              &quot;Vahine&quot;         
## [ ... and 27 more ]
## 
## 4 :
##  [1] &quot;Vraiment&quot;    &quot;beau&quot;        &quot;cadre&quot;       &quot;idyllique&quot;   &quot;personnel&quot;  
##  [6] &quot;très&quot;        &quot;attentionné&quot; &quot;Nous&quot;        &quot;avons&quot;       &quot;adoré&quot;      
## [11] &quot;notre&quot;       &quot;séjour&quot;     
## [ ... and 27 more ]
## 
## 5 :
##  [1] &quot;Au&quot;        &quot;Vahiné&quot;    &quot;Island&quot;    &quot;on&quot;        &quot;entre&quot;     &quot;dans&quot;     
##  [7] &quot;un&quot;        &quot;monde&quot;     &quot;parallèle&quot; &quot;où&quot;        &quot;on&quot;        &quot;ne&quot;       
## [ ... and 126 more ]
## 
## 6 :
##  [1] &quot;Nous&quot;     &quot;avons&quot;    &quot;adoré&quot;    &quot;notre&quot;    &quot;séjour&quot;   &quot;au&quot;      
##  [7] &quot;Vahiné&quot;   &quot;Island&quot;   &quot;avec&quot;     &quot;nos&quot;      &quot;enfants&quot;  &quot;bungalow&quot;
## [ ... and 77 more ]</code></pre>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb71-1" title="1"><span class="co">#enlever les stopwords</span></a>
<a class="sourceLine" id="cb71-2" title="2">tok&lt;-<span class="kw">tokens_remove</span>(tok,<span class="kw">stopwords</span>(<span class="st">&#39;fr&#39;</span>),<span class="dt">padding=</span><span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb71-3" title="3"><span class="kw">head</span>(tok)</a></code></pre></div>
<pre><code>## Tokens consisting of 6 documents and 21 docvars.
## 1 :
##  [1] &quot;Tout&quot;       &quot;&quot;           &quot;magnifique&quot; &quot;&quot;           &quot;Vahine&quot;    
##  [6] &quot;island&quot;     &quot;Séjour&quot;     &quot;&quot;           &quot;rêve&quot;       &quot;&quot;          
## [11] &quot;&quot;           &quot;équipe&quot;    
## [ ... and 22 more ]
## 
## 2 :
##  [1] &quot;Tout&quot;         &quot;&quot;             &quot;parfait&quot;      &quot;&quot;             &quot;meilleure&quot;   
##  [6] &quot;expérience&quot;   &quot;&quot;             &quot;plus&quot;         &quot;belle&quot;        &quot;découverte&quot;  
## [11] &quot;&quot;             &quot;Polynésie.Un&quot;
## [ ... and 37 more ]
## 
## 3 :
##  [1] &quot;&quot;                &quot;séjour&quot;          &quot;magnifique&quot;      &quot;jours&quot;          
##  [5] &quot;époustouflants&quot;  &quot;accueillis&quot;      &quot;chaleureusement&quot; &quot;&quot;               
##  [9] &quot;toute&quot;           &quot;l&#39;équipe&quot;        &quot;&quot;                &quot;Vahine&quot;         
## [ ... and 27 more ]
## 
## 4 :
##  [1] &quot;Vraiment&quot;    &quot;beau&quot;        &quot;cadre&quot;       &quot;idyllique&quot;   &quot;personnel&quot;  
##  [6] &quot;très&quot;        &quot;attentionné&quot; &quot;&quot;            &quot;&quot;            &quot;adoré&quot;      
## [11] &quot;&quot;            &quot;séjour&quot;     
## [ ... and 27 more ]
## 
## 5 :
##  [1] &quot;&quot;          &quot;Vahiné&quot;    &quot;Island&quot;    &quot;&quot;          &quot;entre&quot;     &quot;&quot;         
##  [7] &quot;&quot;          &quot;monde&quot;     &quot;parallèle&quot; &quot;où&quot;        &quot;&quot;          &quot;&quot;         
## [ ... and 126 more ]
## 
## 6 :
##  [1] &quot;&quot;         &quot;&quot;         &quot;adoré&quot;    &quot;&quot;         &quot;séjour&quot;   &quot;&quot;        
##  [7] &quot;Vahiné&quot;   &quot;Island&quot;   &quot;&quot;         &quot;&quot;         &quot;enfants&quot;  &quot;bungalow&quot;
## [ ... and 77 more ]</code></pre>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb73-1" title="1"><span class="co">#on transforme en document-features matrix pour des représentations graphiques</span></a>
<a class="sourceLine" id="cb73-2" title="2">dfm&lt;-<span class="kw">dfm</span>(tok,<span class="dt">remove_padding=</span><span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb73-3" title="3"><span class="kw">head</span>(dfm)</a></code></pre></div>
<pre><code>## Document-feature matrix of: 6 documents, 23,045 features (99.85% sparse) and 21 docvars.
##     features
## docs tout magnifique vahine island séjour rêve équipe très chaleureuse cadre
##    1    1          1      1      1      1    1      2    1           1     1
##    2    2          0      0      0      0    0      1    2           0     0
##    3    1          1      1      1      1    0      0    0           0     0
##    4    1          1      0      0      1    0      0    1           0     1
##    5    2          1      0      1      0    1      0    4           0     0
##    6    0          1      0      1      2    1      0    0           0     0
## [ reached max_nfeat ... 23,035 more features ]</code></pre>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb75-1" title="1"><span class="co">#un nuage de mots rapide</span></a>
<a class="sourceLine" id="cb75-2" title="2"><span class="kw">textplot_wordcloud</span>(dfm, <span class="dt">max_words =</span> <span class="dv">200</span>, <span class="dt">color =</span> <span class="kw">rev</span>(RColorBrewer<span class="op">::</span><span class="kw">brewer.pal</span>(<span class="dv">6</span>, <span class="st">&quot;RdBu&quot;</span>)))</a></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:508"></span>
<img src="bookdown-demo_files/figure-html/508-1.png" alt="Mots les plus fréquents du corpus" width="80%" />
<p class="caption">
Figure 8.5: Mots les plus fréquents du corpus
</p>
</div>
</div>
<div id="identifier-les-noms-propres" class="section level3">
<h3><span class="header-section-number">8.6.2</span> Identifier les noms propres</h3>
<p>On cherche ici à identifier les noms propres présents dans le corpus.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb76-1" title="1"><span class="co">#on sélectionne les mots commençant par une majuscule</span></a>
<a class="sourceLine" id="cb76-2" title="2">toks_cap &lt;-<span class="st"> </span><span class="kw">tokens_select</span>(tok, </a>
<a class="sourceLine" id="cb76-3" title="3">                               <span class="dt">pattern =</span> <span class="st">&quot;^[A-Z]&quot;</span>,</a>
<a class="sourceLine" id="cb76-4" title="4">                               <span class="dt">valuetype =</span> <span class="st">&quot;regex&quot;</span>,</a>
<a class="sourceLine" id="cb76-5" title="5">                               <span class="dt">case_insensitive =</span> <span class="ot">FALSE</span>, </a>
<a class="sourceLine" id="cb76-6" title="6">                               <span class="dt">padding =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb76-7" title="7"></a>
<a class="sourceLine" id="cb76-8" title="8"><span class="co">#on cherche les collocations</span></a>
<a class="sourceLine" id="cb76-9" title="9">tstat_col_cap &lt;-<span class="st"> </span><span class="kw">textstat_collocations</span>(toks_cap, <span class="dt">min_count =</span> <span class="dv">3</span>, <span class="dt">tolower =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb76-10" title="10"><span class="kw">flextable</span>(<span class="kw">head</span>(<span class="kw">as.data.frame</span>(tstat_col_cap)))</a></code></pre></div>
<template id="98f928fc-f9a5-479f-a08d-5f20b37dee1b"><style>
.tabwid table{
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-spacing: 0;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-ea82de64{border-collapse:collapse;}.cl-ea7cb20a{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-ea7cd906{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-ea7cd907{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-ea7cfff8{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ea7cfff9{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ea7cfffa{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ea7cfffb{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ea7cfffc{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ea7cfffd{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-ea82de64'>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-ea7cfffc"><p class="cl-ea7cd906"><span class="cl-ea7cb20a">collocation</span></p></td><td class="cl-ea7cfffd"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">count</span></p></td><td class="cl-ea7cfffd"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">count_nested</span></p></td><td class="cl-ea7cfffd"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">length</span></p></td><td class="cl-ea7cfffd"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">lambda</span></p></td><td class="cl-ea7cfffd"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">z</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-ea7cfff9"><p class="cl-ea7cd906"><span class="cl-ea7cb20a">Bora Bora</span></p></td><td class="cl-ea7cfff8"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">155</span></p></td><td class="cl-ea7cfff8"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">0</span></p></td><td class="cl-ea7cfff8"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">2</span></p></td><td class="cl-ea7cfff8"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">7.159074</span></p></td><td class="cl-ea7cfff8"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">57.75427</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ea7cfff9"><p class="cl-ea7cd906"><span class="cl-ea7cb20a">Pearl Beach</span></p></td><td class="cl-ea7cfff8"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">13</span></p></td><td class="cl-ea7cfff8"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">0</span></p></td><td class="cl-ea7cfff8"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">2</span></p></td><td class="cl-ea7cfff8"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">8.592055</span></p></td><td class="cl-ea7cfff8"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">23.25054</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ea7cfff9"><p class="cl-ea7cd906"><span class="cl-ea7cb20a">Jean Claude</span></p></td><td class="cl-ea7cfff8"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">13</span></p></td><td class="cl-ea7cfff8"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">0</span></p></td><td class="cl-ea7cfff8"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">2</span></p></td><td class="cl-ea7cfff8"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">8.980729</span></p></td><td class="cl-ea7cfff8"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">22.41189</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ea7cfff9"><p class="cl-ea7cd906"><span class="cl-ea7cb20a">Tiputa Lodge</span></p></td><td class="cl-ea7cfff8"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">13</span></p></td><td class="cl-ea7cfff8"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">0</span></p></td><td class="cl-ea7cfff8"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">2</span></p></td><td class="cl-ea7cfff8"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">7.129103</span></p></td><td class="cl-ea7cfff8"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">22.06886</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ea7cfff9"><p class="cl-ea7cd906"><span class="cl-ea7cb20a">Taha'a Island</span></p></td><td class="cl-ea7cfff8"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">10</span></p></td><td class="cl-ea7cfff8"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">0</span></p></td><td class="cl-ea7cfff8"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">2</span></p></td><td class="cl-ea7cfff8"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">8.272921</span></p></td><td class="cl-ea7cfff8"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">20.98451</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ea7cfffb"><p class="cl-ea7cd906"><span class="cl-ea7cb20a">Nuku Hiva</span></p></td><td class="cl-ea7cfffa"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">23</span></p></td><td class="cl-ea7cfffa"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">0</span></p></td><td class="cl-ea7cfffa"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">2</span></p></td><td class="cl-ea7cfffa"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">11.619165</span></p></td><td class="cl-ea7cfffa"><p class="cl-ea7cd907"><span class="cl-ea7cb20a">20.66761</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="c59f7ffe-8b72-4a50-b134-8b9586d46f1d"></div>
<script>
var dest = document.getElementById("c59f7ffe-8b72-4a50-b134-8b9586d46f1d");
var template = document.getElementById("98f928fc-f9a5-479f-a08d-5f20b37dee1b");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

</div>
<div id="composer-des-tokens-à-partir-dexpressions-multi-mots" class="section level3">
<h3><span class="header-section-number">8.6.3</span> Composer des <em>tokens</em> à partir d’expressions multi-mots</h3>
<p>Dans ce corpus, les noms propres correspondent aux noms des îles et des hôtels, et aux prénoms composés. La valeur du lambda montre la force de l’association entre les mots, on retiendra d’une manière générale un lambda au moins supérieur à 3 pour remplacer les <em>tokens</em> d’origine par leurs n-grammes.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb77-1" title="1">toks_comp &lt;-<span class="st"> </span><span class="kw">tokens_compound</span>(tok, <span class="dt">pattern =</span> tstat_col_cap[tstat_col_cap<span class="op">$</span>z <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span>], </a>
<a class="sourceLine" id="cb77-2" title="2">                             <span class="dt">case_insensitive =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb77-3" title="3"></a>
<a class="sourceLine" id="cb77-4" title="4"><span class="kw">head</span>(toks_comp)</a></code></pre></div>
<pre><code>## Tokens consisting of 6 documents and 21 docvars.
## 1 :
##  [1] &quot;Tout&quot;       &quot;&quot;           &quot;magnifique&quot; &quot;&quot;           &quot;Vahine&quot;    
##  [6] &quot;island&quot;     &quot;Séjour&quot;     &quot;&quot;           &quot;rêve&quot;       &quot;&quot;          
## [11] &quot;&quot;           &quot;équipe&quot;    
## [ ... and 22 more ]
## 
## 2 :
##  [1] &quot;Tout&quot;         &quot;&quot;             &quot;parfait&quot;      &quot;&quot;             &quot;meilleure&quot;   
##  [6] &quot;expérience&quot;   &quot;&quot;             &quot;plus&quot;         &quot;belle&quot;        &quot;découverte&quot;  
## [11] &quot;&quot;             &quot;Polynésie.Un&quot;
## [ ... and 37 more ]
## 
## 3 :
##  [1] &quot;&quot;                &quot;séjour&quot;          &quot;magnifique&quot;      &quot;jours&quot;          
##  [5] &quot;époustouflants&quot;  &quot;accueillis&quot;      &quot;chaleureusement&quot; &quot;&quot;               
##  [9] &quot;toute&quot;           &quot;l&#39;équipe&quot;        &quot;&quot;                &quot;Vahine_Island&quot;  
## [ ... and 26 more ]
## 
## 4 :
##  [1] &quot;Vraiment&quot;    &quot;beau&quot;        &quot;cadre&quot;       &quot;idyllique&quot;   &quot;personnel&quot;  
##  [6] &quot;très&quot;        &quot;attentionné&quot; &quot;&quot;            &quot;&quot;            &quot;adoré&quot;      
## [11] &quot;&quot;            &quot;séjour&quot;     
## [ ... and 27 more ]
## 
## 5 :
##  [1] &quot;&quot;              &quot;Vahiné_Island&quot; &quot;&quot;              &quot;entre&quot;        
##  [5] &quot;&quot;              &quot;&quot;              &quot;monde&quot;         &quot;parallèle&quot;    
##  [9] &quot;où&quot;            &quot;&quot;              &quot;&quot;              &quot;sait&quot;         
## [ ... and 125 more ]
## 
## 6 :
##  [1] &quot;&quot;              &quot;&quot;              &quot;adoré&quot;         &quot;&quot;             
##  [5] &quot;séjour&quot;        &quot;&quot;              &quot;Vahiné_Island&quot; &quot;&quot;             
##  [9] &quot;&quot;              &quot;enfants&quot;       &quot;bungalow&quot;      &quot;&quot;             
## [ ... and 76 more ]</code></pre>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb79-1" title="1">dfm&lt;-<span class="kw">dfm</span>(toks_comp, <span class="dt">remove_padding=</span><span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb79-2" title="2"><span class="kw">textplot_wordcloud</span>(dfm, <span class="dt">max_words =</span> <span class="dv">200</span>, <span class="dt">color =</span> <span class="kw">rev</span>(RColorBrewer<span class="op">::</span><span class="kw">brewer.pal</span>(<span class="dv">6</span>, <span class="st">&quot;RdBu&quot;</span>)))</a></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:510"></span>
<img src="bookdown-demo_files/figure-html/510-1.png" alt="Mots les plus fréquents du corpus" width="80%" />
<p class="caption">
Figure 8.6: Mots les plus fréquents du corpus
</p>
</div>
</div>
<div id="identifier-les-autres-concepts" class="section level3">
<h3><span class="header-section-number">8.6.4</span> Identifier les autres concepts</h3>
<p>Dans ce corpus, on peut aussi s’attendre à voir apparaître d’autres expressions multi-mots qui représentent des concepts, telles que “petit déjeuner”.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb80-1" title="1">col&lt;-<span class="kw">textstat_collocations</span>(toks_comp, <span class="dt">min_count =</span> <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb80-2" title="2"></a>
<a class="sourceLine" id="cb80-3" title="3"><span class="kw">flextable</span>(<span class="kw">head</span>(<span class="kw">as.data.frame</span>(col)))</a></code></pre></div>
<template id="f0e26271-49be-4d19-b81b-2acc02f0b763"><style>
.tabwid table{
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-spacing: 0;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-ebf4ad40{border-collapse:collapse;}.cl-ebe8ec76{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-ebe8ec77{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-ebe8ec78{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-ebe8ec79{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ebe8ec7a{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ebe8ec7b{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ebe8ec7c{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ebe8ec7d{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ebe8ec7e{width:54pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-ebf4ad40'>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-ebe8ec7d"><p class="cl-ebe8ec77"><span class="cl-ebe8ec76">collocation</span></p></td><td class="cl-ebe8ec7e"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">count</span></p></td><td class="cl-ebe8ec7e"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">count_nested</span></p></td><td class="cl-ebe8ec7e"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">length</span></p></td><td class="cl-ebe8ec7e"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">lambda</span></p></td><td class="cl-ebe8ec7e"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">z</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-ebe8ec7a"><p class="cl-ebe8ec77"><span class="cl-ebe8ec76">petit déjeuner</span></p></td><td class="cl-ebe8ec79"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">769</span></p></td><td class="cl-ebe8ec79"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">0</span></p></td><td class="cl-ebe8ec79"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">2</span></p></td><td class="cl-ebe8ec79"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">7.510485</span></p></td><td class="cl-ebe8ec79"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">85.88487</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ebe8ec7a"><p class="cl-ebe8ec77"><span class="cl-ebe8ec76">très bien</span></p></td><td class="cl-ebe8ec79"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">714</span></p></td><td class="cl-ebe8ec79"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">0</span></p></td><td class="cl-ebe8ec79"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">2</span></p></td><td class="cl-ebe8ec79"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">3.591647</span></p></td><td class="cl-ebe8ec79"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">76.20326</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ebe8ec7a"><p class="cl-ebe8ec77"><span class="cl-ebe8ec76">très bon</span></p></td><td class="cl-ebe8ec79"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">422</span></p></td><td class="cl-ebe8ec79"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">0</span></p></td><td class="cl-ebe8ec79"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">2</span></p></td><td class="cl-ebe8ec79"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">4.072595</span></p></td><td class="cl-ebe8ec79"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">61.79011</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ebe8ec7a"><p class="cl-ebe8ec77"><span class="cl-ebe8ec76">très agréable</span></p></td><td class="cl-ebe8ec79"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">374</span></p></td><td class="cl-ebe8ec79"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">0</span></p></td><td class="cl-ebe8ec79"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">2</span></p></td><td class="cl-ebe8ec79"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">4.200133</span></p></td><td class="cl-ebe8ec79"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">58.42280</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ebe8ec7a"><p class="cl-ebe8ec77"><span class="cl-ebe8ec76">grand merci</span></p></td><td class="cl-ebe8ec79"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">167</span></p></td><td class="cl-ebe8ec79"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">0</span></p></td><td class="cl-ebe8ec79"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">2</span></p></td><td class="cl-ebe8ec79"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">5.650650</span></p></td><td class="cl-ebe8ec79"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">55.78169</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ebe8ec7c"><p class="cl-ebe8ec77"><span class="cl-ebe8ec76">passé nuits</span></p></td><td class="cl-ebe8ec7b"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">151</span></p></td><td class="cl-ebe8ec7b"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">0</span></p></td><td class="cl-ebe8ec7b"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">2</span></p></td><td class="cl-ebe8ec7b"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">5.517906</span></p></td><td class="cl-ebe8ec7b"><p class="cl-ebe8ec78"><span class="cl-ebe8ec76">53.58480</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="c82e9747-9ea4-4fa5-a482-f0f7f4cc2a68"></div>
<script>
var dest = document.getElementById("c82e9747-9ea4-4fa5-a482-f0f7f4cc2a68");
var template = document.getElementById("f0e26271-49be-4d19-b81b-2acc02f0b763");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p>Au vue de la diversité des collocations, on choisit un lambda supérieur à 7 pour retenir les concepts les plus pertinents.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb81-1" title="1">toks_comp &lt;-<span class="st"> </span><span class="kw">tokens_compound</span>(tok, <span class="dt">pattern =</span> col[col<span class="op">$</span>z <span class="op">&gt;</span><span class="st"> </span><span class="dv">7</span>])</a>
<a class="sourceLine" id="cb81-2" title="2"></a>
<a class="sourceLine" id="cb81-3" title="3"><span class="kw">head</span>(toks_comp)</a></code></pre></div>
<pre><code>## Tokens consisting of 6 documents and 21 docvars.
## 1 :
##  [1] &quot;Tout&quot;       &quot;&quot;           &quot;magnifique&quot; &quot;&quot;           &quot;Vahine&quot;    
##  [6] &quot;island&quot;     &quot;Séjour&quot;     &quot;&quot;           &quot;rêve&quot;       &quot;&quot;          
## [11] &quot;&quot;           &quot;équipe&quot;    
## [ ... and 22 more ]
## 
## 2 :
##  [1] &quot;Tout&quot;         &quot;&quot;             &quot;parfait&quot;      &quot;&quot;             &quot;meilleure&quot;   
##  [6] &quot;expérience&quot;   &quot;&quot;             &quot;plus_belle&quot;   &quot;découverte&quot;   &quot;&quot;            
## [11] &quot;Polynésie.Un&quot; &quot;grand_merci&quot; 
## [ ... and 33 more ]
## 
## 3 :
##  [1] &quot;&quot;                &quot;séjour&quot;          &quot;magnifique&quot;      &quot;jours&quot;          
##  [5] &quot;époustouflants&quot;  &quot;accueillis&quot;      &quot;chaleureusement&quot; &quot;&quot;               
##  [9] &quot;toute_l&#39;équipe&quot;  &quot;&quot;                &quot;Vahine&quot;          &quot;Island&quot;         
## [ ... and 26 more ]
## 
## 4 :
##  [1] &quot;Vraiment&quot;                   &quot;beau&quot;                      
##  [3] &quot;cadre_idyllique&quot;            &quot;personnel_très_attentionné&quot;
##  [5] &quot;&quot;                           &quot;&quot;                          
##  [7] &quot;adoré&quot;                      &quot;&quot;                          
##  [9] &quot;séjour&quot;                     &quot;attention&quot;                 
## [11] &quot;spéciale&quot;                   &quot;&quot;                          
## [ ... and 22 more ]
## 
## 5 :
##  [1] &quot;&quot;          &quot;Vahiné&quot;    &quot;Island&quot;    &quot;&quot;          &quot;entre&quot;     &quot;&quot;         
##  [7] &quot;&quot;          &quot;monde&quot;     &quot;parallèle&quot; &quot;où&quot;        &quot;&quot;          &quot;&quot;         
## [ ... and 117 more ]
## 
## 6 :
##  [1] &quot;&quot;         &quot;&quot;         &quot;adoré&quot;    &quot;&quot;         &quot;séjour&quot;   &quot;&quot;        
##  [7] &quot;Vahiné&quot;   &quot;Island&quot;   &quot;&quot;         &quot;&quot;         &quot;enfants&quot;  &quot;bungalow&quot;
## [ ... and 74 more ]</code></pre>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb83-1" title="1">dfm&lt;-<span class="kw">dfm</span>(toks_comp, <span class="dt">remove_padding=</span><span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb83-2" title="2"><span class="kw">textplot_wordcloud</span>(dfm, <span class="dt">max_words =</span> <span class="dv">200</span>, <span class="dt">color =</span> <span class="kw">rev</span>(RColorBrewer<span class="op">::</span><span class="kw">brewer.pal</span>(<span class="dv">6</span>, <span class="st">&quot;RdBu&quot;</span>)))</a></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:512"></span>
<img src="bookdown-demo_files/figure-html/512-1.png" alt="Mots les plus fréquents du corpus" width="80%" />
<p class="caption">
Figure 8.7: Mots les plus fréquents du corpus
</p>
</div>
</div>
</div>
<div id="conclusion-3" class="section level2">
<h2><span class="header-section-number">8.7</span> Conclusion</h2>
<p>Dans ce chapitre, nous avons vu comment découper un corpus en unités, les <em>tokens</em>. Nous avons abordé le sujet des n-grammes, et vu comment composer des <em>tokens</em> à partir de concepts multi-mots, identifiés par des n-grammes adjacents.</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="2">
<li id="fn2"><p>Le principe de ‘textcat’ est fondée sur ces n-grammes de lettre. Chaque langue se caractérise par une distribution particulière des n-grammes. Pour décider de l’appartenance d’un texte à une langue, si on dispose des profils de distribution, on compare la distribution des n-grammes du texte à ces références. On peut ainsi calculer une distance et attribuer le texte à la langue dont il est le plus proche.<a href="token.html#fnref2" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="le-cas-de-sources-multiples.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="annot.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/05-tokenisation.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
